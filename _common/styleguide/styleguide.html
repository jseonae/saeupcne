<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="충남교육청" />
    <title th:text="${pageTitle}">스타일가이드</title>

    <link rel="icon" href="/favicon.ico" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Default KRDS JS -->
    <script src="../../krds/node_modules/krds-uiux/resources/js/component/ui-script.js" defer></script>
    <script src="../../krds/node_modules/krds-uiux/resources/js/plugin/swiper-bundle.min.js" defer></script>
    <!-- Default KRDS CSS -->
    <link rel="stylesheet" as="style" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-gov-dynamic-subset.min.css" crossorigin/>
    <link rel="stylesheet" href="../../krds/node_modules/krds-uiux/resources/css/plugin/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../../krds/node_modules/krds-uiux/resources/css/component/output.css" />
    
    <!-- Custom -->
    <script src="../../adm/js/admin-custom.js" defer></script>
    <link rel="stylesheet" href="../resources/css/krds-custom.css">
    <link rel="stylesheet" href="../../adm/css/admin-custom.css">

    <!-- styleguide -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <script src="../styleguide/prism.js" defer></script>

    <link rel="stylesheet" href="../styleguide/prism.css">
    <link rel="stylesheet" href="../styleguide/styleguide.css">
</head>

<body>

<div id="wrap" class="g-wrap styleguide">
    <main id="container">
        <div class="inner">
            <div class="contents contents-box contents-box-shadow">

                <section class="g-conts-area">
                    <h4 class="con-tit">icon</h4>
                    <div class="g-example-wrap">
                        <div class="g-example bg-dark-gray includeJs" data-include-file="../resources/html/icon.html"></div>
                        <div class="g-code-wrap krds-accordion">
                            <div class="accordion-item">
                                <h5 class="accordion-header">
                                    <button type="button" class="btn-accordion" aria-expanded="true" id="accordionHeaderSample01" aria-controls="accordionCollapseSample01">코드 확인하기</button>
                                </h5>
                                <div class="accordion-collapse collapse" role="region" id="aaccordionCollapseSample01" aria-labelledby="accordionHeaderSample01">
                                    <div class="accordion-body">
                                        <div class="g-code-box">
                                            <pre data-src="../resources/html/icon.html"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="g-conts-area">
                    <h4 class="con-tit">button</h4>
                    <div class="g-example-wrap">
                        <div class="g-example includeJs" data-include-file="../resources/html/button.html"></div>
                        <div class="g-code-wrap krds-accordion">
                            <div class="accordion-item">
                                <h5 class="accordion-header">
                                    <button type="button" class="btn-accordion" aria-expanded="true" id="accordionHeaderSample01" aria-controls="accordionCollapseSample01">코드 확인하기</button>
                                </h5>
                                <div class="accordion-collapse collapse" role="region" id="aaccordionCollapseSample01" aria-labelledby="accordionHeaderSample01">
                                    <div class="accordion-body">
                                        <div class="g-code-box">
                                            <pre data-src="../resources/html/button.html"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="g-conts-area">
                    <h4 class="con-tit">badge</h4>
                    <div class="g-example-wrap">
                        <div class="g-example includeJs" data-include-file="../resources/html/badge.html"></div>
                        <div class="g-code-wrap krds-accordion">
                            <div class="accordion-item">
                                <h5 class="accordion-header">
                                    <button type="button" class="btn-accordion" aria-expanded="true" id="accordionHeaderSample01" aria-controls="accordionCollapseSample01">코드 확인하기</button>
                                </h5>
                                <div class="accordion-collapse collapse" role="region" id="aaccordionCollapseSample01" aria-labelledby="accordionHeaderSample01">
                                    <div class="accordion-body">
                                        <div class="g-code-box">
                                            <pre data-src="../resources/html/badge.html"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </div>
    </main>
</div>


<script type="text/javascript">
    $(function () {
    // prism toolbar title 추가
    if (typeof Prism !== "undefined") {
        Prism.hooks.add("complete", function (env) {
        const toolbar = env.element.closest(".code-toolbar");
        if (!toolbar) return;

        const preTag = toolbar.querySelector("pre");
        if (!preTag) return;

        // data-title 읽기
        const dataTitle = preTag.getAttribute("data-title");
        const existingTitle = toolbar.querySelector(".toolbar-title");

        // 중복 방지 (이미 있으면 다시 안 추가)
        if (!existingTitle) {
            const titleTag = document.createElement("h5");
            titleTag.classList.add("toolbar-title");
            titleTag.textContent = dataTitle ? dataTitle : "코드 예시";
            toolbar.prepend(titleTag);
        }
        });
    }
    });

    (async function(){
        async function includeHtml() {
            const includeTarget = document.querySelectorAll('.includeJs');
            for (let el of includeTarget) {
            const targetFile = el.dataset.includeFile;
            if (targetFile) {
                try {
                    const response = await fetch(targetFile);
                    if (!response.ok) { // 성공적인 응답이 아닐 경우 에러 처리
                        throw new Error('include not found.');
                    }
                    const html = await response.text(); // 응답 본문을 텍스트로 변환
                    el.innerHTML = html; // 받은 HTML을 대상 요소에 삽입
                } catch (error) {
                    el.innerHTML = error.message; // 에러가 발생하면 메시지를 대상 요소에 삽입
                }
            }
        }
        };
    
        await includeHtml();
    })();
</script>


</body>

</html>


